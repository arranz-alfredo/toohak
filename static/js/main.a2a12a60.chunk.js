(this.webpackJsonptoohak=this.webpackJsonptoohak||[]).push([[0],{127:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var c,a,i=n(0),r=n.n(i),s=n(17),l=n.n(s),o=(n(127),n(182)),u=n(210),j=n(8),d=n(1),b=r.a.createContext([]),h=function(e){var t=e.children,n=Object(i.useState)([]),c=Object(j.a)(n,2),a=c[0],r=c[1];return Object(d.jsx)(b.Provider,{value:{projects:a,setProjects:r},children:t})},f=n(56),O=n(18),m=n(104),p={main:"#2196f3",light:"#6ec6ff",dark:"#0069c0"},x={main:"#e91e63",light:"#ff6090",dark:"#b0003a"},g="#f44336",v={main:"#2196f3",light:"#ffffff",dark:"#0069c0"},C={main:"#000000",mainContrast:"#ffffff",light:"#000000",dark:"#888888",contrast:"#6ec6ff",errorContrast:"#ffffff"},y="#4caf50",S=Object(m.a)({palette:{primary:{main:p.main,contrastText:C.mainContrast,light:p.light},secondary:{main:x.main,contrastText:C.main,light:x.light},background:{default:v.main,paper:v.light},error:{main:g},text:{primary:C.main,secondary:C.dark}},typography:{fontSize:12}}),w=n(168),N=n(171),I=n(37),k=function(){return Object(d.jsx)(i.Fragment,{children:Object(d.jsx)(w.a,{position:"static",children:Object(d.jsx)(N.a,{children:Object(d.jsx)(I.a,{variant:"h5",children:"!toohaK"})})})})},R=n(172),T="projects",E=function(){var e=Object(i.useContext)(b),t=e.projects,n=e.setProjects;Object(i.useEffect)((function(){if(null==t||0===t.length){var e=localStorage.getItem(T);n(null!=e&&""!==e?JSON.parse(e):[])}}));return{projects:t,setProjects:function(e){localStorage.setItem(T,JSON.stringify(e)),n(e)}}},F=n(3),z=n(12),P=n(220),A=n(183),H=n(211),W=n(225),D=n(188),q=n(186),L=n(179),_=n(187),M=n(221),U=n(189),G=n(109),B=n(190),V=n(106),J=n(178),K=n(177),Y=n(135),$=n(184),X=n(185);!function(e){e.SelectAnswer="SA",e.TrueOrFalse="TF",e.FillGaps="FG",e.Match="MT",e.Sort="SO",e.Classify="CL",e.FillTable="FT",e.Crossword="CW"}(c||(c={})),function(e){e.None="NONE",e.Url="URL",e.Base64="BASE64"}(a||(a={}));var Q,Z=function(e){var t=[];null!=(null===e||void 0===e?void 0:e.id)&&null!=(null===e||void 0===e?void 0:e.type)||t.push("Datos internos incorrectos");var n=function(e,t){var n=[];switch((null==(null===t||void 0===t?void 0:t.timeLimit)||(null===t||void 0===t?void 0:t.timeLimit)<=0)&&n.push("El tiempo l\xedmite debe ser mayor de 0"),(null==(null===t||void 0===t?void 0:t.questionFontSize)||(null===t||void 0===t?void 0:t.questionFontSize)<=0)&&n.push("El tama\xf1o de fuente del titulo debe ser mayor de 0"),e){case c.SelectAnswer:var a=t;(null==(null===a||void 0===a?void 0:a.pictureCount)||(null===a||void 0===a?void 0:a.pictureCount)<=0)&&n.push("El n\xfamero de im\xe1genes debe ser mayor de 0"),null==(null===a||void 0===a?void 0:a.pictureLabel)&&n.push("Error en indicador de etiquetado de im\xe1genes"),null==(null===a||void 0===a?void 0:a.multiselect)&&n.push("Error en indicador de seleccion m\xfaltiple");break;case c.TrueOrFalse:case c.FillGaps:case c.Match:case c.Sort:case c.Classify:case c.FillTable:case c.Crossword:}return{valid:0===n.length,errorMessage:n}}(null===e||void 0===e?void 0:e.type,null===e||void 0===e?void 0:e.config);switch(n.valid||(t=[].concat(Object(z.a)(t),Object(z.a)(n.errorMessage))),null!=(null===e||void 0===e?void 0:e.question)&&""!==(null===e||void 0===e?void 0:e.question)||t.push("Se debe rellenar el enunciado / pregunta"),e.type){case c.SelectAnswer:var i=e;i.config.pictureCount>1&&i.pictures.some((function(e){return e.type===a.None}))&&t.push("Hay im\xe1genes vac\xedas"),i.answers.reduce((function(e,t){return e&&null!=t.text&&""!==t.text}),!0)||t.push("Hay alguna respuesta vac\xeda"),i.answers.some((function(e){return e.valid}))||t.push("Debe marcarse al menos una respuesta como v\xe1lida");break;case c.TrueOrFalse:case c.FillGaps:case c.Match:break;case c.Sort:e.items.reduce((function(e,t){return e&&null!=t&&""!==t}),!0)||t.push("Hay elementos sin texto");break;case c.Classify:e.groups.reduce((function(e,t){return e&&null!=t.name&&""!==t.name}),!0)||t.push("Todos los grupos deben tener un t\xedtulo");break;case c.FillTable:case c.Crossword:}return{valid:0===t.length,errorMessage:t}},ee=function(e){return null!=e&&null!=e.id&&null!=e.name&&null!=e.challenges&&e.challenges.reduce((function(e,t){return e&&Z(t).valid}),!0)},te=n(219),ne=n(224),ce=n(216),ae=n(215);!function(e){e.Es="ES",e.En="EN"}(Q||(Q={}));var ie,re=function(e){var t=e.test,n=e.onAccept,c=e.onCancel,a=Object(i.useState)(function(e){return null!=e?{name:e.name,description:e.description||"",language:e.language||Q.Es}:{name:"",description:"",language:Q.Es}}(t)),r=Object(j.a)(a,2),s=r[0],l=r[1],o=Object(i.useRef)({}),u=Object(i.useRef)({});return Object(d.jsxs)(R.a,{container:!0,direction:"column",spacing:4,children:[Object(d.jsx)(R.a,{item:!0,xs:12,children:Object(d.jsx)(te.a,{inputRef:o,id:"newTestNameInput",label:"Nombre",fullWidth:!0,value:s.name,onInput:function(){l(Object(F.a)(Object(F.a)({},s),{},{name:o.current.value}))}})}),Object(d.jsx)(R.a,{item:!0,xs:12,children:Object(d.jsx)(te.a,{inputRef:u,id:"newTestNameInput",label:"Descripci\xf3n",fullWidth:!0,value:s.description,onInput:function(){l(Object(F.a)(Object(F.a)({},s),{},{description:u.current.value}))}})}),Object(d.jsxs)(R.a,{item:!0,xs:12,children:[Object(d.jsx)(ne.a,{shrink:!0,id:"label-language",children:"Idioma"}),Object(d.jsxs)(ce.a,{labelId:"label-language",id:"newTestLanguageInput",label:"Idioma",fullWidth:!0,value:s.language.toString(),onChange:function(e){var t=e.target.value===Q.Es.toString()?Q.Es:Q.En;l(Object(F.a)(Object(F.a)({},s),{},{language:t}))},children:[Object(d.jsx)(J.a,{value:Q.Es.toString(),children:"Espa\xf1ol"}),Object(d.jsx)(J.a,{value:Q.En.toString(),children:"Ingl\xe9s"})]})]}),Object(d.jsx)(R.a,{item:!0,xs:12,children:Object(d.jsxs)(R.a,{container:!0,justify:"flex-end",spacing:1,children:[Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(L.a,{variant:"contained",color:"primary",onClick:function(){var e=t?Object(F.a)(Object(F.a)({},t),{},{name:s.name,description:s.description,language:s.language}):{id:Object(ae.a)(),name:s.name,description:s.description,language:s.language,challenges:[]};n(e)},children:"Aceptar"})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(L.a,{color:"primary",onClick:function(){c()},children:"Cancelar"})})]})})]})},se=n(180),le=n(181),oe=function(e){var t=e.open,n=e.text,c=e.acceptButtonText,a=e.cancelButtonText,i=e.width,r=e.onConfirm,s=e.onRefuse;return Object(d.jsxs)(P.a,{open:t,fullWidth:!0,maxWidth:i||"sm",children:[Object(d.jsx)(se.a,{children:Object(d.jsx)(R.a,{container:!0,justify:"center",children:Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(I.a,{variant:"button",children:n})})})}),Object(d.jsxs)(le.a,{children:[Object(d.jsx)(L.a,{autoFocus:!0,onClick:r,color:"primary",variant:"contained",children:c||"Aceptar"}),Object(d.jsx)(L.a,{onClick:s,color:"primary",children:a||"Cancelar"})]})]})},ue=Object(o.a)((function(e){return{inline:{display:"inline"},listItemSecondaryAction:{visibility:"hidden"},listItem:{"&:hover $listItemSecondaryAction":{visibility:"inherit"}},bottomContainer:{marginTop:"10px"},play:{color:y},dialogContainer:{padding:"20px"}}})),je=function(e){var t=e.project,n=e.onCreateTest,c=e.onDeleteTest,a=r.a.useState(),s=Object(j.a)(a,2),l=s[0],o=s[1],u=r.a.useState(null),b=Object(j.a)(u,2),h=b[0],O=b[1],m=Object(i.useState)(!1),p=Object(j.a)(m,2),x=p[0],g=p[1],v=Object(i.useState)(!1),C=Object(j.a)(v,2),y=C[0],S=C[1],w=ue();return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsxs)(V.a,{id:"addNewMenu",anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:function(){O(null)},children:[Object(d.jsx)(J.a,{onClick:function(){O(null),g(!0)},children:Object(d.jsx)(I.a,{variant:"subtitle2",children:"Editar datos generales"})}),Object(d.jsx)(J.a,{component:f.b,to:"/designer/".concat(t.id,"/").concat(null===l||void 0===l?void 0:l.id),children:Object(d.jsx)(I.a,{variant:"subtitle2",children:"Editar preguntas"})})]}),Object(d.jsxs)(P.a,{open:x,fullWidth:!0,maxWidth:"sm",children:[Object(d.jsx)(A.a,{children:"Cuestionario"}),Object(d.jsx)(H.a,{className:w.dialogContainer,children:Object(d.jsx)(re,{test:l,onAccept:function(e){n(t.id,e),o(void 0),g(!1)},onCancel:function(){o(void 0),g(!1)}})})]}),Object(d.jsx)(oe,{open:y,text:"\xbfSeguro que deseas eliminar el proyecto?",width:"xs",onConfirm:function(){null!=l&&c(t.id,l),o(void 0),S(!1)},onRefuse:function(){o(void 0),S(!1)}}),Object(d.jsx)(R.a,{container:!0,children:Object(d.jsxs)(R.a,{item:!0,xs:12,children:[0===t.tests.length&&Object(d.jsx)(I.a,{children:"No hay cuestionarios"}),t.tests.length>0&&Object(d.jsx)(K.a,{children:t.tests.map((function(e){return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsxs)(Y.a,{button:!0,alignItems:"flex-start",classes:{container:w.listItem},children:[Object(d.jsxs)(R.a,{container:!0,children:[Object(d.jsx)(R.a,{item:!0,xs:6,children:Object(d.jsx)($.a,{primary:e.name,secondary:Object(d.jsx)(I.a,{component:"span",variant:"body2",className:w.inline,color:"textPrimary",children:e.description})})}),Object(d.jsx)(R.a,{item:!0,xs:2,children:Object(d.jsx)($.a,{secondary:"".concat(e.challenges.length," pregunta").concat(1!==e.challenges.length?"s":"")})})]}),Object(d.jsx)(X.a,{className:w.listItemSecondaryAction,children:Object(d.jsxs)(R.a,{container:!0,children:[Object(d.jsx)(R.a,{item:!0,children:ee(e)?Object(d.jsx)(G.a,{title:"Jugar!",component:f.b,to:"/play/".concat(t.id,"/").concat(e.id),children:Object(d.jsx)(q.a,{className:w.play,children:"play_circle_filled"})}):Object(d.jsx)(G.a,{title:"Errores en el cuestionario",children:Object(d.jsx)(q.a,{color:"error",children:"error"})})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(G.a,{title:"Editar",onClick:function(t){t.stopPropagation(),function(e,t){o(t),O(e.currentTarget)}(t,e)},children:Object(d.jsx)(q.a,{color:"primary",children:"edit"})})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(G.a,{title:"Eliminar",onClick:function(t){t.stopPropagation(),o(e),S(!0)},children:Object(d.jsx)(q.a,{children:"delete"})})})]})})]},e.id),Object(d.jsx)(_.a,{variant:"inset",component:"li"})]},"fragment_".concat(e.id))}))}),Object(d.jsx)(R.a,{item:!0,xs:12,className:w.bottomContainer,children:Object(d.jsx)(R.a,{container:!0,justify:"flex-end",children:Object(d.jsx)(L.a,{variant:"contained",color:"primary",onClick:function(){g(!0)},children:"Nuevo cuestionario"})})})]})})]})},de=Object(o.a)((function(e){return{uploadInput:{display:"none"}}})),be=function(e){var t=e.onDataLoaded,n=e.onError,c=Object(i.useRef)({}),a=de();return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)("input",{ref:c,accept:"text",className:a.uploadInput,id:"contained-button-file",multiple:!0,type:"file",onInput:function(e){try{var a,i=e;if(null!=(null===i||void 0===i||null===(a=i.target)||void 0===a?void 0:a.files)){var r=i.target.files[0],s=new FileReader;s.readAsText(r),s.onloadend=function(e){try{var c=JSON.parse(s.result);t(c)}catch(a){n&&n()}}}}catch(l){n&&n()}c.current.value=""}}),Object(d.jsx)(L.a,{style:{color:p.dark},children:Object(d.jsx)("label",{htmlFor:"contained-button-file",children:"Importar proyecto"})})]})},he=function(e){var t=e.project,n=e.onAccept,c=e.onCancel,a=Object(i.useState)(function(e){return null!=e?{name:e.name,description:e.description||""}:{name:"",description:""}}(t)),r=Object(j.a)(a,2),s=r[0],l=r[1],o=Object(i.useRef)({}),u=Object(i.useRef)({});return Object(d.jsxs)(R.a,{container:!0,direction:"column",spacing:2,children:[Object(d.jsx)(R.a,{item:!0,xs:12,children:Object(d.jsx)(te.a,{inputRef:o,label:"Nombre",fullWidth:!0,value:s.name,onInput:function(){l(Object(F.a)(Object(F.a)({},s),{},{name:o.current.value}))}})}),Object(d.jsx)(R.a,{item:!0,xs:12,children:Object(d.jsx)(te.a,{inputRef:u,label:"Descripci\xf3n",fullWidth:!0,value:s.description,onInput:function(){l(Object(F.a)(Object(F.a)({},s),{},{description:u.current.value}))}})}),Object(d.jsx)(R.a,{item:!0,xs:12,children:Object(d.jsxs)(R.a,{container:!0,justify:"flex-end",spacing:1,children:[Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(L.a,{variant:"contained",color:"primary",onClick:function(){var e=t?Object(F.a)(Object(F.a)({},t),{},{name:o.current.value,description:u.current.value}):{id:Object(ae.a)(),name:o.current.value,description:u.current.value,tests:[]};n(e)},children:"Aceptar"})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(L.a,{color:"primary",onClick:function(){c()},children:"Cancelar"})})]})})]})},fe=Object(o.a)((function(e){return{heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:x.main},gridContainer:{padding:"0px 10px"},gridItems:{flexGrow:1},messageControl:{backgroundColor:g,color:C.errorContrast},dialogContainer:{padding:"20px"}}})),Oe=function(e){var t=e.projects,n=e.setProjects,c=Object(O.f)(),a=r.a.useState(!1),s=Object(j.a)(a,2),l=s[0],o=s[1],u=Object(i.useState)(!1),b=Object(j.a)(u,2),h=b[0],f=b[1],m=Object(i.useState)(!1),x=Object(j.a)(m,2),g=x[0],v=x[1],C=Object(i.useState)(),y=Object(j.a)(C,2),S=y[0],w=y[1],N=Object(i.useState)(!1),k=Object(j.a)(N,2),T=k[0],E=k[1],V=Object(i.useState)(""),J=Object(j.a)(V,2),K=J[0],Y=J[1],$=fe(),X=function(e,a){var i=t.find((function(t){return t.id===e})),r=null!=i&&i.tests.some((function(e){return e.id===a.id})),s=t.map((function(t){if(t.id!==e)return Object(F.a)({},t);if(r){var n=t.tests.map((function(e){return e.id===a.id?Object(F.a)({},a):Object(F.a)({},e)}));return Object(F.a)(Object(F.a)({},t),{},{tests:Object(z.a)(n)})}return Object(F.a)(Object(F.a)({},t),{},{tests:[].concat(Object(z.a)(t.tests),[a])})}));n(s),r||c.push("/designer/".concat(e,"/").concat(a.id))},Q=function(e,c){var a=t.map((function(t){if(t.id!==e)return Object(F.a)({},t);var n=t.tests.filter((function(e){return e.id!==c.id}));return Object(F.a)(Object(F.a)({},t),{},{tests:Object(z.a)(n)})}));n(a)};return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsxs)(P.a,{open:h,fullWidth:!0,maxWidth:"sm",children:[Object(d.jsx)(A.a,{children:"Proyecto"}),Object(d.jsx)(H.a,{className:$.dialogContainer,children:Object(d.jsx)(he,{project:S,onAccept:function(e){n(null!=S?t.map((function(t){return t.id===e.id?e:t})):[].concat(Object(z.a)(t),[Object(F.a)({},e)])),w(void 0),f(!1)},onCancel:function(){w(void 0),f(!1)}})})]}),Object(d.jsx)(oe,{open:g,text:"\xbfSeguro que deseas eliminar el proyecto?",width:"xs",onConfirm:function(){null!=S&&n(t.filter((function(e){return e.id!==S.id}))),v(!1)},onRefuse:function(){v(!1)}}),Object(d.jsx)(W.a,{open:T,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,onClose:function(){E(!1)},children:Object(d.jsx)(D.a,{message:Object(d.jsxs)(R.a,{container:!0,spacing:4,children:[Object(d.jsx)(R.a,{item:!0,xs:1,children:Object(d.jsx)(q.a,{children:"error"})}),Object(d.jsx)(R.a,{item:!0,xs:10,children:Object(d.jsx)(I.a,{children:K})})]}),className:$.messageControl})}),Object(d.jsxs)(R.a,{container:!0,children:[Object(d.jsx)(R.a,{item:!0,xs:12,children:Object(d.jsxs)(R.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,className:$.gridContainer,children:[Object(d.jsx)(R.a,{item:!0,className:$.gridItems,children:Object(d.jsx)(I.a,{variant:"h6",children:"Proyectos"})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(L.a,{style:{color:p.dark},onClick:function(){f(!0)},children:"Nuevo proyecto"})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(be,{onDataLoaded:function(e){var c=e;(function(e){return null!=e&&null!=e.id&&null!=e.name&&null!=e.tests&&e.tests.reduce((function(e,t){return e&&ee(t)}),!0)})(c)||(Y("El proyecto es inv\xe1lido"),E(!0)),null!=t.find((function(e){return e.id===c.id}))?(Y("El proyecto ya existe"),E(!0)):n([].concat(Object(z.a)(t),[Object(F.a)({},c)]))},onError:function(){Y("Se produjo un error en la importaci\xf3n"),E(!0)}})})]})}),Object(d.jsx)(R.a,{item:!0,xs:12,children:Object(d.jsx)(_.a,{})}),Object(d.jsx)(R.a,{item:!0,xs:12,children:t.map((function(e){return Object(d.jsxs)(M.a,{expanded:l===e.id,onChange:function(t,n){!function(e,t){o(!!t&&e.id)}(e,n)},children:[Object(d.jsx)(U.a,{title:e.description,children:Object(d.jsxs)(R.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(d.jsx)(R.a,{item:!0,xs:3,children:Object(d.jsx)(I.a,{className:$.heading,children:e.name})}),Object(d.jsx)(R.a,{item:!0,xs:7,children:Object(d.jsx)(I.a,{className:$.secondaryHeading,children:"".concat(e.tests.length," cuestionario").concat(1!==e.tests.length?"s":"")})}),Object(d.jsxs)(R.a,{item:!0,children:[Object(d.jsx)(G.a,{title:"Descargar",color:"primary",onClick:function(t){t.stopPropagation(),function(e){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(e))),t.setAttribute("download",e.name.replace(/ /g,"_")),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}(e)},children:Object(d.jsx)(q.a,{children:"download"})}),Object(d.jsx)(G.a,{title:"Editar",color:"primary",onClick:function(t){t.stopPropagation(),w(e),f(!0)},children:Object(d.jsx)(q.a,{children:"edit"})}),Object(d.jsx)(G.a,{title:"Eliminar",onClick:function(t){t.stopPropagation(),w(e),v(!0)},children:Object(d.jsx)(q.a,{children:"delete"})})]})]})}),Object(d.jsx)(B.a,{children:Object(d.jsx)(je,{project:e,onCreateTest:X,onDeleteTest:Q})})]},e.id)}))})]})]})},me=function(){var e=E(),t=e.projects,n=e.setProjects;return Object(d.jsx)(R.a,{container:!0,justify:"center",children:Object(d.jsx)(R.a,{item:!0,xs:7,children:Object(d.jsx)(Oe,{projects:t,setProjects:n})})})},pe=n(204),xe=n(191),ge=n(192),ve=n(193),Ce=n(222),ye=n(194),Se=n(195),we=n(226),Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q.Es;switch(e){case c.SelectAnswer:return t===Q.Es?"Selecciona la respuesta correcta":"Choose the correct answer";case c.TrueOrFalse:return t===Q.Es?"Verdadero o falso":"True or false";case c.Match:return t===Q.Es?"Une las opciones":"Match the options";case c.FillGaps:return t===Q.Es?"Rellena los huecos":"Fill in the gaps";case c.Sort:return t===Q.Es?"Ordena los elementos":"Order the elements";case c.Classify:return t===Q.Es?"Clasifica los elementos":"Classify the elements";case c.FillTable:return t===Q.Es?"Completa la tabla":"Complete the table";case c.Crossword:return t===Q.Es?"Crucigrama":"Crossword";default:return t===Q.Es?"Sin definir":"Undefined"}},Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(d.jsx)(q.a,{fontSize:t,style:n,children:e===c.SelectAnswer?"widgets":e===c.TrueOrFalse?"check":e===c.FillGaps?"space_bar":e===c.Match?"shuffle":e===c.Sort?"swap_vert":e===c.Classify?"category":e===c.FillTable?"grid_on":e===c.Crossword?"font_download":""})},ke=function(e){var t={timeLimit:30,questionFontSize:28};switch(e){case c.SelectAnswer:return Object(F.a)(Object(F.a)({},t),{},{answerFontSize:22,pictureCount:1,pictureLabel:!1,multiselect:!1});case c.TrueOrFalse:return Object(F.a)(Object(F.a)({},t),{},{pictureCount:1,pictureLabel:!1});case c.Match:case c.FillGaps:return t;case c.Sort:return Object(F.a)(Object(F.a)({},t),{},{itemsFontSize:18,itemCount:5});case c.Classify:return Object(F.a)(Object(F.a)({},t),{},{itemsFontSize:18,groupCount:3});default:return t}},Re=Object(o.a)({fullWidth:{width:"100%"},description:{width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},tooltipRow:{fontSize:"12px"},statusContainer:{display:"flex",justifyContent:"space-between"}}),Te=function(e){var t=e.challenge,n=e.position,c=e.selected,a=e.compact,r=e.onClick,s=e.onDelete,l=Object(i.useState)({valid:!0,errorMessage:[]}),o=Object(j.a)(l,2),u=o[0],b=o[1],h=Re();return Object(i.useEffect)((function(){b(Z(t))}),[t]),Object(d.jsx)(i.Fragment,{children:Object(d.jsxs)(xe.a,{variant:c?"elevation":"outlined",elevation:10,className:h.fullWidth,children:[Object(d.jsxs)(ge.a,{className:h.fullWidth,onClick:function(){r&&r(t)},children:[Object(d.jsx)(ve.a,{avatar:a?Ie(t.type,"small"):void 0,subheader:Object(d.jsx)(I.a,{variant:"subtitle2",color:c?"secondary":"textPrimary",className:h.description,children:a?t.question:"#".concat(n," ").concat(Ne(t.type))}),action:a?Object(d.jsx)(R.a,{container:!0,alignItems:"center",children:u.valid?Object(d.jsx)(q.a,{color:"primary",fontSize:"small",children:"check"}):Object(d.jsx)(Ce.a,{arrow:!0,title:Object(d.jsx)(d.Fragment,{children:u.errorMessage.map((function(e){return Object(d.jsx)("li",{className:h.tooltipRow,children:e})}))}),children:Object(d.jsx)(q.a,{color:"secondary",fontSize:"small",children:"priority_high"})})}):void 0}),!a&&Object(d.jsx)(ye.a,{children:Object(d.jsx)(I.a,{noWrap:!0,children:t.question})})]}),!a&&Object(d.jsxs)(Se.a,{className:h.statusContainer,children:[u.valid?Object(d.jsx)(we.a,{label:"completo",color:"primary",size:"small",icon:Object(d.jsx)(q.a,{fontSize:"small",children:"check"})}):Object(d.jsx)(Ce.a,{arrow:!0,title:Object(d.jsx)(d.Fragment,{children:u.errorMessage.map((function(e){return Object(d.jsx)("li",{className:h.tooltipRow,children:e})}))}),children:Object(d.jsx)(we.a,{label:"error",color:"secondary",size:"small",style:{color:"#ffffff"},icon:Object(d.jsx)(q.a,{fontSize:"small",children:"priority_high"})})}),Object(d.jsx)(G.a,{onClick:function(){s&&s(t)},children:Object(d.jsx)(q.a,{children:"delete"})})]})]})})},Ee=Object(o.a)({root:{width:"100%",overflowY:"auto"},fullWidth:{width:"100%"}}),Fe=function(e){var t=e.challenges,n=e.compactList,c=e.selected,a=e.onSelect,r=e.onDelete,s=Object(i.useState)(c||void 0),l=Object(j.a)(s,2),o=l[0],u=l[1],b=Ee(),h=function(e){u(e),a&&a(e)},f=function(e){r&&r(e)};return Object(d.jsx)(R.a,{container:!0,direction:"column",alignItems:"center",spacing:2,className:b.root,children:t.map((function(e,t){return Object(d.jsx)(R.a,{item:!0,className:b.fullWidth,children:Object(d.jsx)(Te,{challenge:e,position:t+1,selected:(null===o||void 0===o?void 0:o.id)===e.id,compact:n,onClick:h,onDelete:f})},t)}))})},ze=n(197),Pe=n(34);!function(e){e[e.Design=0]="Design",e[e.Play=1]="Play"}(ie||(ie={}));var Ae=Object(o.a)({root:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},inputContainer:{width:"90%",height:"80%",display:"flex",justifyContent:"center",alignItems:"center"},input:{width:"90%"}}),He=function(e){var t=e.mode,n=e.question,c=e.fontSize,a=e.onChange,r=Object(i.useState)(n),s=Object(j.a)(r,2),l=s[0],o=s[1],u=Object(i.useRef)({}),b=Ae();Object(i.useEffect)((function(){o(n)}),[n]);return Object(d.jsx)("div",{className:b.root,children:Object(d.jsx)(xe.a,{className:b.inputContainer,children:Object(d.jsx)(te.a,{inputRef:u,variant:"standard",className:b.input,inputProps:{style:{textAlign:"center",fontSize:"".concat(null!=c?c:28,"px"),lineHeight:"32px"}},InputProps:{readOnly:t===ie.Play,disableUnderline:t===ie.Play},placeholder:"Escribe aqu\xed el enunciado o pregunta",multiline:!0,rowsMax:2,value:l,onInput:function(){o(u.current.value),a&&a(u.current.value)}})})})},We=n(196),De=n(218),qe=n(214),Le=Object(o.a)((function(){return{option:{width:"100%",height:"100%"},optionActionArea:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},optionInput:{width:"90%",color:"#ffffff"},optionInnerInput:{cursor:"pointer"},optionIcon:{color:"#ffffff"},selector:{color:"#ffffff","&$checked":{color:"#ffffff"}},checked:{}}})),_e=function(e){var t=e.mode,n=e.text,c=e.icon,a=e.valid,r=e.selected,s=e.color,l=e.fontSize,o=e.multiselect,u=e.showResults,b=e.onClick,h=e.onTextChange,f=e.onValidChange,O=Object(i.useState)({text:n||"",valid:a||!1}),m=Object(j.a)(O,2),x=m[0],g=m[1],v=Object(i.useRef)({}),C=Object(i.useRef)({}),y=Object(i.useRef)({}),S=Le();Object(i.useEffect)((function(){g({text:n||"",valid:a||!1})}),[n,a]);return Object(d.jsx)(xe.a,{className:S.option,style:{backgroundColor:s||p.main,borderStyle:"solid",borderWidth:u&&a||r?"3px":"0px",borderColor:u?a?"#00ff00":"#ff0000":"#323232"},children:t===ie.Design?Object(d.jsx)("div",{className:S.optionActionArea,children:Object(d.jsx)(te.a,{inputRef:v,value:x.text,placeholder:"Escribe aqu\xed una respuesta",className:S.optionInput,InputProps:{style:{color:"#ffffff",fontSize:"".concat(l||22,"px")},startAdornment:Object(d.jsx)(We.a,{position:"start",children:Object(d.jsx)(q.a,{className:S.optionIcon,children:c})}),endAdornment:o?Object(d.jsx)(De.a,{inputRef:y,checked:x.valid,classes:{root:S.selector,checked:S.checked},onChange:function(){var e=Object(F.a)(Object(F.a)({},x),{},{selected:y.current.checked});g(e),f&&f(y.current.checked)}}):Object(d.jsx)(qe.a,{inputRef:C,checked:x.valid,classes:{root:S.selector,checked:S.checked},onChange:function(){var e=Object(F.a)(Object(F.a)({},x),{},{selected:C.current.checked});g(e),f&&f(C.current.checked)}})},onInput:function(){var e=Object(F.a)(Object(F.a)({},x),{},{text:v.current.value});g(e),h&&h(v.current.value)},onClick:function(e){e.preventDefault()}})}):Object(d.jsx)(ge.a,{className:S.optionActionArea,onClick:function(){b&&b()},children:Object(d.jsxs)(R.a,{container:!0,className:S.optionInput,spacing:2,alignItems:"center",children:[Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(q.a,{className:S.optionIcon,children:c})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)("label",{style:{color:"#ffffff",fontSize:"".concat(l||22,"px"),justifySelf:"left"},children:x.text})})]})})})},Me=Object(o.a)((function(){return{dialogContainer:{padding:"20px"}}})),Ue=function(e){var t=e.open,n=e.picture,c=e.onAccept,r=e.onCancel,s=Object(i.useState)(n),l=Object(j.a)(s,2),o=l[0],u=l[1],b=Object(i.useRef)({}),h=Me();Object(i.useEffect)((function(){null!=n&&u(n)}),[n]);return Object(d.jsxs)(P.a,{open:t,fullWidth:!0,maxWidth:"sm",children:[Object(d.jsx)(A.a,{children:"Imagen"}),Object(d.jsx)(H.a,{className:h.dialogContainer,children:Object(d.jsxs)(R.a,{container:!0,direction:"column",spacing:2,children:[Object(d.jsx)(R.a,{item:!0,xs:12,children:Object(d.jsx)(te.a,{inputRef:b,label:"URL de la imagen",fullWidth:!0,value:o.data,onInput:function(){u(Object(F.a)(Object(F.a)({},o),{},{data:b.current.value}))}})}),Object(d.jsx)(R.a,{item:!0,xs:12,children:Object(d.jsxs)(R.a,{container:!0,justify:"flex-end",spacing:1,children:[Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(L.a,{variant:"contained",color:"primary",onClick:function(){var e={type:a.Url,data:b.current.value};c(e)},children:"Aceptar"})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(L.a,{color:"primary",onClick:function(){r()},children:"Cancelar"})})]})})]})})]})},Ge=Object(o.a)((function(e){return{root:{height:"99%",justifyContent:"center",alignItems:"center"},fullHeight:{height:"100%"},pic:{maxWidth:"100%",maxHeight:"100%"}}})),Be=function(e){var t=e.mode,n=e.pictures,c=e.onPicturesChange,r=Object(i.useState)(),s=Object(j.a)(r,2),l=s[0],o=s[1],u=Ge(),b=Object(i.useState)({height:"100%",width:8}),h=Object(j.a)(b,2),f=h[0],O=h[1];Object(i.useEffect)((function(){switch(n.length){case 9:case 8:case 7:O({height:"33.3%",width:4});break;case 6:case 5:O({height:"50%",width:4});break;case 4:case 3:O({height:"50%",width:6});break;case 2:O({height:"100%",width:6});break;default:O({height:"100%",width:12})}}),[n]);return Object(d.jsxs)(i.Fragment,{children:[l&&Object(d.jsx)(Ue,{open:l.openDialog,picture:l.selectedPicture,onAccept:function(e){return t=e,i=l.selectedPictureIdx,c&&c(n.map((function(e,n){return n!==i?Object(F.a)({},e):Object(F.a)({},t)}))),void o({openDialog:!1,selectedPicture:{type:a.None,data:""},selectedPictureIdx:-1});var t,i},onCancel:function(){o({openDialog:!1,selectedPicture:{type:a.None,data:""},selectedPictureIdx:-1})}}),Object(d.jsx)(R.a,{container:!0,className:u.root,children:n.map((function(e,n){return Object(d.jsx)(R.a,{item:!0,xs:f.width,style:{height:f.height,border:t===ie.Design?"solid 1px":"0px"},children:Object(d.jsxs)(R.a,{container:!0,justify:"center",alignItems:"center",className:u.fullHeight,children:[e.type!==a.None&&Object(d.jsx)("img",{className:u.pic,src:e.data,alt:""}),t===ie.Design&&Object(d.jsx)(ze.a,{size:"medium",color:"primary",style:{position:"absolute",color:"#ffffff"},onClick:function(){!function(e,t){o({openDialog:!0,selectedPicture:e,selectedPictureIdx:t})}(e,n)},children:Object(d.jsx)(q.a,{children:"add_a_photo"})})]})},"pic".concat(n.toString()))}))})]})},Ve=n(198),Je=function(e){var t=e.mode,n=e.time,c=e.stopTimer,a=e.onTimeUp,r=Object(i.useState)(n),s=Object(j.a)(r,2),l=s[0],o=s[1],u=Object(i.useState)(c||!1),b=Object(j.a)(u,2),h=b[0],f=b[1];return Object(i.useEffect)((function(){o(n)}),[n]),Object(i.useEffect)((function(){f(c||!1)}),[c]),Object(i.useEffect)((function(){var e;return t!==ie.Play||h||(e=setTimeout((function(){0===l?a&&a():o(l-1)}),1e3)),function(){null!=e&&clearTimeout(e)}}),[l,a]),Object(d.jsx)(R.a,{container:!0,justify:"center",alignItems:"center",style:{height:"100%"},children:Object(d.jsx)(R.a,{item:!0,children:Object(d.jsxs)(H.a,{position:"relative",display:"inline-flex",children:[Object(d.jsx)(Ve.a,{variant:"determinate",color:l>5?"primary":"secondary",size:"75px",value:Math.round(100*l/(1*n))}),Object(d.jsx)(H.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(d.jsx)(I.a,{variant:"h5",component:"div",color:"textSecondary",children:l})})]})})})},Ke=n.p+"static/media/correct.6415db46.wav",Ye=n.p+"static/media/incorrect.70fff5c7.wav",$e=Object(o.a)((function(e){return{root:{height:"100%",backgroundColor:"#f0f0f0"},titleContainer:{height:"20%"},pictureContainer:{height:"50%"},answerContainer:{height:"30%",paddingTop:"10px"},optionContainer:{height:"50%"},centerAll:{display:"flex",justifyContent:"center",alignItems:"center"}}})),Xe=function(e){var t=e.mode,n=e.challenge,c=e.onChallengeChange,a=e.onSuccess,r=e.onError,s=Object(i.useState)(!1),l=Object(j.a)(s,2),o=l[0],u=l[1],b=Object(i.useState)([]),h=Object(j.a)(b,2),f=h[0],O=h[1],m=Object(i.useState)(!1),p=Object(j.a)(m,2),x=p[0],g=p[1],v=Object(Pe.a)(Ke),C=Object(j.a)(v,1)[0],y=Object(Pe.a)(Ye),S=Object(j.a)(y,1)[0],w=$e(),N=function(e,t){var a=n.answers.map((function(c,a){return a!==e?n.config.multiselect?Object(F.a)({},c):Object(F.a)(Object(F.a)({},c),{},{valid:!1}):Object(F.a)({},t)}));c&&c(Object(F.a)(Object(F.a)({},n),{},{answers:a}))},I=function(e){if(t===ie.Play)if(n.config.multiselect){var c=f.findIndex((function(t){return t===e}));O(-1===c?[].concat(Object(z.a)(f),[e]):f.filter((function(t){return t!==e})))}else n.answers[e].valid?k(!0):k(!1)},k=function(e){u(!0),g(!0),e?C():S(),setTimeout((function(){e?a&&a():r&&r()}),2e3)};return Object(d.jsxs)(xe.a,{variant:"outlined",className:w.root,children:[Object(d.jsx)("div",{className:w.titleContainer,children:Object(d.jsx)(He,{mode:t,question:n.question,fontSize:n.config.questionFontSize,onChange:function(e){c&&c(Object(F.a)(Object(F.a)({},n),{},{question:e}))}})}),Object(d.jsx)("div",{className:w.pictureContainer,children:Object(d.jsxs)(R.a,{container:!0,justify:"center",style:{height:"100%"},children:[Object(d.jsx)(R.a,{item:!0,xs:2,style:{height:"100%"},children:Object(d.jsx)(Je,{mode:t,time:n.config.timeLimit,stopTimer:o,onTimeUp:function(){k(!1)}})}),Object(d.jsx)(R.a,{item:!0,xs:8,style:{height:"100%"},children:Object(d.jsx)(Be,{mode:t,pictures:n.pictures,onPicturesChange:function(e){c&&c(Object(F.a)(Object(F.a)({},n),{},{pictures:Object(z.a)(e)}))}})}),Object(d.jsx)(R.a,{item:!0,xs:2,style:{height:"100%"},className:w.centerAll,children:n.config.multiselect&&Object(d.jsxs)(ze.a,{variant:"extended",size:"large",color:"primary",disabled:t===ie.Design||0===f.length,onClick:function(){!function(){if(0===f.map((function(e){return n.answers[e]})).filter((function(e){return!e.valid})).length&&0===n.answers.filter((function(e,t){return e.valid&&-1===f.indexOf(t)})).length)return void k(!0);k(!1)}()},children:[Object(d.jsx)(q.a,{children:"check"}),"\xa0Corregir"]})})]})}),Object(d.jsx)("div",{className:w.answerContainer,children:Object(d.jsxs)(R.a,{container:!0,justify:"space-evenly",spacing:2,style:{height:"100%"},children:[Object(d.jsx)(R.a,{item:!0,xs:5,className:w.optionContainer,children:Object(d.jsx)(_e,{mode:t,text:n.answers[0].text,icon:"wb_sunny",valid:n.answers[0].valid,selected:t===ie.Play&&f.indexOf(0)>=0,color:"#f44336",fontSize:n.config.answerFontSize,multiselect:n.config.multiselect,showResults:x,onTextChange:function(e){N(0,Object(F.a)(Object(F.a)({},n.answers[0]),{},{text:e}))},onValidChange:function(e){N(0,Object(F.a)(Object(F.a)({},n.answers[0]),{},{valid:e}))},onClick:function(){I(0)}})}),Object(d.jsx)(R.a,{item:!0,xs:5,className:w.optionContainer,children:Object(d.jsx)(_e,{mode:t,text:n.answers[1].text,icon:"brightness_2",valid:n.answers[1].valid,selected:t===ie.Play&&f.indexOf(1)>=0,color:"#03a9f4",fontSize:n.config.answerFontSize,multiselect:n.config.multiselect,showResults:x,onTextChange:function(e){N(1,Object(F.a)(Object(F.a)({},n.answers[1]),{},{text:e}))},onValidChange:function(e){N(1,Object(F.a)(Object(F.a)({},n.answers[1]),{},{valid:e}))},onClick:function(){I(1)}})}),Object(d.jsx)(R.a,{item:!0,xs:5,className:w.optionContainer,children:Object(d.jsx)(_e,{mode:t,text:n.answers[2].text,icon:"flash_on",valid:n.answers[2].valid,selected:t===ie.Play&&f.indexOf(2)>=0,color:"#ffc107",fontSize:n.config.answerFontSize,multiselect:n.config.multiselect,showResults:x,onTextChange:function(e){N(2,Object(F.a)(Object(F.a)({},n.answers[2]),{},{text:e}))},onValidChange:function(e){N(2,Object(F.a)(Object(F.a)({},n.answers[2]),{},{valid:e}))},onClick:function(){I(2)}})}),Object(d.jsx)(R.a,{item:!0,xs:5,className:w.optionContainer,children:Object(d.jsx)(_e,{mode:t,text:n.answers[3].text,icon:"cloud",valid:n.answers[3].valid,selected:t===ie.Play&&f.indexOf(3)>=0,color:"#4caf50",fontSize:n.config.answerFontSize,multiselect:n.config.multiselect,showResults:x,onTextChange:function(e){N(3,Object(F.a)(Object(F.a)({},n.answers[3]),{},{text:e}))},onValidChange:function(e){N(3,Object(F.a)(Object(F.a)({},n.answers[3]),{},{valid:e}))},onClick:function(){I(3)}})})]})})]})},Qe=n(38),Ze=n(199),et=n(200),tt=Object(o.a)({fullWidth:{width:"100%"}}),nt=function(e){var t=e.config,n=e.onConfigChange,c=Object(i.useState)(t),a=Object(j.a)(c,2),r=a[0],s=a[1],l=Object(i.useRef)({}),o=Object(i.useRef)({}),u=Object(i.useRef)({}),b=Object(i.useRef)({}),h=Object(i.useRef)({}),f=Object(i.useRef)({}),O=tt();Object(i.useEffect)((function(){s(t)}),[t]);var m=function(e,t){var c=Object(F.a)(Object(F.a)({},r),{},Object(Qe.a)({},e,t));s(c),n&&n(c)};return Object(d.jsxs)(R.a,{container:!0,direction:"column",spacing:2,children:[Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(I.a,{variant:"h5",children:"Configuraci\xf3n"})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:l,type:"number",label:"L\xedmite de tiempo (segundos)",inputProps:{min:10},value:r.timeLimit,color:"secondary",className:O.fullWidth,onInput:function(){m("timeLimit",parseInt(l.current.value))}})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:o,type:"number",label:"Tama\xf1o de letra del t\xedtulo",inputProps:{min:1},value:r.questionFontSize,color:"secondary",className:O.fullWidth,onInput:function(){m("questionFontSize",parseInt(o.current.value))}})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:u,type:"number",label:"N\xfamero de im\xe1genes",inputProps:{min:1,max:9},value:r.pictureCount,color:"secondary",className:O.fullWidth,onInput:function(){m("pictureCount",parseInt(u.current.value))}})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(Ze.a,{control:Object(d.jsx)(et.a,{inputRef:b,name:"checkPictureLabel",checked:r.pictureLabel,color:"secondary",onChange:function(){m("pictureLabel",b.current.checked)}}),label:"Numerar im\xe1genes"})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:h,type:"number",label:"Tama\xf1o de letra de las respuestas",inputProps:{min:1},value:r.answerFontSize,color:"secondary",className:O.fullWidth,onInput:function(){m("answerFontSize",parseInt(h.current.value))}})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(Ze.a,{control:Object(d.jsx)(et.a,{inputRef:f,name:"checkMultiselect",checked:r.multiselect,color:"secondary",onChange:function(){m("multiselect",f.current.checked)}}),label:"Respuesta m\xfaltiple"})})]})},ct=Object(o.a)({fullHeight:{height:"100%"}}),at=function(e){var t=e.challenge,n=e.onChallengeChange,c=ct();return Object(d.jsxs)(R.a,{container:!0,className:c.fullHeight,spacing:2,children:[Object(d.jsx)(R.a,{item:!0,xs:10,className:c.fullHeight,children:Object(d.jsx)(Xe,{mode:ie.Design,challenge:t,onChallengeChange:function(e){n(e)}})}),Object(d.jsx)(R.a,{item:!0,xs:2,className:c.fullHeight,children:Object(d.jsx)(nt,{config:t.config,onConfigChange:function(e){var c=function(e){var n=Object(z.a)(t.pictures);if(e>n.length){var c=Array.from(Array(e-n.length)).map((function(){return{type:a.None,data:""}}));n=[].concat(Object(z.a)(n),Object(z.a)(c))}else e<n.length&&(n=n.slice(0,e));return n}(e.pictureCount),i=function(e){var n=!1;return t.answers.map((function(t){return e?Object(F.a)({},t):t.valid&&!n?(n=!0,Object(F.a)({},t)):Object(F.a)(Object(F.a)({},t),{},{valid:!1})}))}(e.multiselect),r=Object(F.a)(Object(F.a)({},t),{},{pictures:Object(z.a)(c),answers:Object(z.a)(i),config:e});n(r)}})})]})},it=Object(o.a)((function(e){return{root:{height:"100%",backgroundColor:"#f0f0f0"},titleContainer:{height:"20%"},pictureContainer:{height:"60%"},answerContainer:{height:"20%",paddingTop:"10px"},optionContainer:{height:"100%"},centerAll:{display:"flex",justifyContent:"center",alignItems:"center"}}})),rt=function(e){var t=e.mode,n=e.challenge,c=e.onChallengeChange,a=e.onSuccess,r=e.onError,s=Object(i.useState)(!1),l=Object(j.a)(s,2),o=l[0],u=l[1],b=Object(i.useState)(!1),h=Object(j.a)(b,2),f=h[0],O=h[1],m=Object(Pe.a)(Ke),p=Object(j.a)(m,1)[0],x=Object(Pe.a)(Ye),g=Object(j.a)(x,1)[0],v=it(),C=function(e){c&&c(Object(F.a)(Object(F.a)({},n),{},{answer:e}))},y=function(e){t===ie.Play&&(n.answer===e?S(!0):S(!1))},S=function(e){u(!0),O(!0),e?p():g(),setTimeout((function(){e?a&&a():r&&r()}),2e3)};return Object(d.jsxs)(xe.a,{variant:"outlined",className:v.root,children:[Object(d.jsx)("div",{className:v.titleContainer,children:Object(d.jsx)(He,{mode:t,question:n.question,fontSize:n.config.questionFontSize,onChange:function(e){c&&c(Object(F.a)(Object(F.a)({},n),{},{question:e}))}})}),Object(d.jsx)("div",{className:v.pictureContainer,children:Object(d.jsxs)(R.a,{container:!0,justify:"center",style:{height:"100%"},children:[Object(d.jsx)(R.a,{item:!0,xs:2,style:{height:"100%"},children:Object(d.jsx)(Je,{mode:t,time:n.config.timeLimit,stopTimer:o,onTimeUp:function(){S(!1)}})}),Object(d.jsx)(R.a,{item:!0,xs:8,style:{height:"100%"},children:Object(d.jsx)(Be,{mode:t,pictures:n.pictures,onPicturesChange:function(e){c&&c(Object(F.a)(Object(F.a)({},n),{},{pictures:Object(z.a)(e)}))}})}),Object(d.jsx)(R.a,{item:!0,xs:2,style:{height:"100%"},className:v.centerAll})]})}),Object(d.jsx)("div",{className:v.answerContainer,children:Object(d.jsxs)(R.a,{container:!0,justify:"space-evenly",spacing:2,style:{height:"100%"},children:[Object(d.jsx)(R.a,{item:!0,xs:5,className:v.optionContainer,children:Object(d.jsx)(_e,{mode:t,text:"Verdadero",icon:"wb_sunny",valid:n.answer,color:"#4caf50",fontSize:42,showResults:f,onValidChange:function(e){C(!0)},onClick:function(){y(!0)}})}),Object(d.jsx)(R.a,{item:!0,xs:5,className:v.optionContainer,children:Object(d.jsx)(_e,{mode:t,text:"Falso",icon:"brightness_2",valid:!n.answer,color:"#f44336",fontSize:42,showResults:f,onValidChange:function(e){C(!1)},onClick:function(){y(!1)}})})]})})]})},st=Object(o.a)({fullWidth:{width:"100%"}}),lt=function(e){var t=e.config,n=e.onConfigChange,c=Object(i.useState)(t),a=Object(j.a)(c,2),r=a[0],s=a[1],l=Object(i.useRef)({}),o=Object(i.useRef)({}),u=Object(i.useRef)({}),b=Object(i.useRef)({}),h=st();Object(i.useEffect)((function(){s(t)}),[t]);var f=function(e,t){var c=Object(F.a)(Object(F.a)({},r),{},Object(Qe.a)({},e,t));s(c),n&&n(c)};return Object(d.jsxs)(R.a,{container:!0,direction:"column",spacing:2,children:[Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(I.a,{variant:"h5",children:"Configuraci\xf3n"})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:l,type:"number",label:"L\xedmite de tiempo (segundos)",inputProps:{min:10},value:r.timeLimit,color:"secondary",className:h.fullWidth,onInput:function(){f("timeLimit",parseInt(l.current.value))}})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:o,type:"number",label:"Tama\xf1o de letra del t\xedtulo",inputProps:{min:1},value:r.questionFontSize,color:"secondary",className:h.fullWidth,onInput:function(){f("questionFontSize",parseInt(o.current.value))}})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:u,type:"number",label:"N\xfamero de im\xe1genes",inputProps:{min:1,max:9},value:r.pictureCount,color:"secondary",className:h.fullWidth,onInput:function(){f("pictureCount",parseInt(u.current.value))}})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(Ze.a,{control:Object(d.jsx)(et.a,{inputRef:b,name:"checkPictureLabel",checked:r.pictureLabel,color:"secondary",onChange:function(){f("pictureLabel",b.current.checked)}}),label:"Numerar im\xe1genes"})})]})},ot=Object(o.a)({fullHeight:{height:"100%"}}),ut=function(e){var t=e.challenge,n=e.onChallengeChange,c=ot();return Object(d.jsxs)(R.a,{container:!0,className:c.fullHeight,spacing:2,children:[Object(d.jsx)(R.a,{item:!0,xs:10,className:c.fullHeight,children:Object(d.jsx)(rt,{mode:ie.Design,challenge:t,onChallengeChange:function(e){n(e)}})}),Object(d.jsx)(R.a,{item:!0,xs:2,className:c.fullHeight,children:Object(d.jsx)(lt,{config:t.config,onConfigChange:function(e){var c=function(e){var n=Object(z.a)(t.pictures);if(e>n.length){var c=Array.from(Array(e-n.length)).map((function(){return{type:a.None,data:""}}));n=[].concat(Object(z.a)(n),Object(z.a)(c))}else e<n.length&&(n=n.slice(0,e));return n}(e.pictureCount),i=Object(F.a)(Object(F.a)({},t),{},{pictures:Object(z.a)(c),config:e});n(i)}})})]})},jt=n(202),dt=n(105),bt=n(213),ht=n(212),ft=Object(o.a)((function(e){return{item:{borderRadius:"10em",backgroundColor:e.palette.secondary.main,color:e.palette.primary.contrastText,padding:"0.5rem 1rem",cursor:"move"}}})),Ot=function(e){var t=e.name,n=e.type,c=e.style,a=ft(),i=Object(ht.a)((function(){return{type:n,item:{name:t},collect:function(e){return{opacity:e.isDragging()?.4:1}}}}),[t,n]),r=Object(j.a)(i,2),s=r[0].opacity,l=r[1];return Object(d.jsx)("div",{ref:l,className:a.item,style:Object(F.a)({opacity:s},c),children:t})},mt=Object(o.a)((function(e){return{root:{height:"100%",width:"100%"},fullWidth:{width:"100%"},fullHeight:{height:"100%"},titleContainer:{width:"100%",padding:"5px",backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},itemsContainer:{padding:"5px",height:"100%"}}})),pt=function(e){var t=e.mode,n=e.title,c=e.validItems,a=e.showResults,r=e.fontSize,s=e.onTitleChange,l=e.onItemsChange,o=e.acceptTypes,u=e.droppedItems,b=e.onDrop,h=Object(bt.a)({accept:o||"",drop:function(e){console.log("Drop!"),console.log(e),b&&b(e)},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),f=Object(j.a)(h,2),O=f[0],m=O.isOver,p=O.canDrop,x=f[1],g=Object(i.useState)({title:n||"",validItems:c||[],droppedItems:u||[]}),v=Object(j.a)(g,2),C=v[0],y=v[1],S=Object(i.useRef)({}),w=Object(i.useRef)({}),N=mt();Object(i.useEffect)((function(){null!=u&&y(Object(F.a)(Object(F.a)({},C),{},{droppedItems:Object(z.a)(u)}))}),[u]);var k=function(){var e=[].concat(Object(z.a)(C.validItems),[w.current.value]),t=Object(F.a)(Object(F.a)({},C),{},{validItems:e});y(t),l&&l(e),w.current.value=""};return Object(d.jsx)(xe.a,{elevation:4,className:N.root,style:{backgroundColor:m&&p?"#efefef":"#ffffff"},children:Object(d.jsxs)(R.a,{container:!0,direction:"column",className:"".concat(N.fullHeight," ").concat(N.fullWidth),children:[Object(d.jsx)(R.a,{item:!0,className:N.titleContainer,children:t===ie.Play?Object(d.jsx)(I.a,{style:{fontSize:r},children:n}):Object(d.jsx)(te.a,{inputRef:S,value:C.title,style:{width:"100%"},inputProps:{style:{fontSize:r,textAlign:"center",color:"#ffffff"}},onInput:function(){var e=Object(F.a)(Object(F.a)({},C),{},{title:S.current.value});y(e),s&&s(S.current.value)}})}),Object(d.jsx)(R.a,{item:!0,xs:!0,children:Object(d.jsxs)(R.a,{container:!0,direction:"column",alignItems:"center",className:N.itemsContainer,spacing:2,children:[t===ie.Design&&C.validItems.map((function(e,t){return Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(we.a,{label:e,color:"secondary",size:"medium",style:{fontSize:r,color:"#ffffff"},onDelete:function(){return function(e){var t=C.validItems.filter((function(t,n){return e!==n})),n=Object(F.a)(Object(F.a)({},C),{},{validItems:t});y(n),l&&l(t)}(t)}})},"item_".concat(t))})),t===ie.Design&&Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:w,variant:"outlined",InputProps:{style:{fontSize:r,color:"#000000"}},label:"Nuevo elemento",onKeyPress:function(e){"Enter"===e.code&&""!==w.current.value&&k()}})},"newItem"),t===ie.Play&&Object(d.jsx)(R.a,{item:!0,xs:!0,className:"".concat(N.fullWidth," ").concat(N.fullHeight),children:Object(d.jsx)("div",{ref:x,className:"".concat(N.fullWidth," ").concat(N.fullHeight),children:Object(d.jsx)(R.a,{container:!0,direction:"column",alignItems:"center",spacing:1,className:N.fullHeight,children:C.droppedItems.map((function(e){return Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(Ot,{name:e,type:"classifyElement",style:(t=e,a?c.indexOf(t)>=0?{fontSize:"".concat(r,"px"),backgroundColor:"#4caf50"}:{fontSize:"".concat(r,"px"),backgroundColor:"#f44336"}:{fontSize:"".concat(r,"px")})},e)},"gridItem_".concat(e));var t}))})})},"dropItem")]})})]})})},xt=Object(o.a)((function(e){return{root:{height:"100%",backgroundColor:"#f0f0f0"},fullHeight:{height:"100%"},titleContainer:{height:"20%"},classifyContainer:{height:"80%"},centerAll:{display:"flex",justifyContent:"center",alignItems:"center"},optionsContainer:{height:"20%",border:"solid 1px gray",backgroundColor:"#ffffff"},groupsContainer:{height:"80%"}}})),gt=function(e){var t=e.mode,n=e.challenge,c=e.onChallengeChange,a=e.onSuccess,r=e.onError,s=Object(i.useState)(function(e){return e.groups.map((function(e){return{groupName:e.name,items:[]}}))}(n)),l=Object(j.a)(s,2),o=l[0],u=l[1],b=Object(i.useState)(!1),h=Object(j.a)(b,2),f=h[0],O=h[1],m=Object(i.useState)(!1),p=Object(j.a)(m,2),x=p[0],g=p[1],v=Object(Pe.a)(Ke),C=Object(j.a)(v,1)[0],y=Object(Pe.a)(Ye),S=Object(j.a)(y,1)[0],w=xt(),N=function(e){O(!0),g(!0),e?C():S(),setTimeout((function(){e?a&&a():r&&r()}),2e3)};return Object(d.jsxs)(xe.a,{variant:"outlined",className:w.root,children:[Object(d.jsx)("div",{className:w.titleContainer,children:Object(d.jsx)(He,{mode:t,question:n.question,fontSize:n.config.questionFontSize,onChange:function(e){c&&c(Object(F.a)(Object(F.a)({},n),{},{question:e}))}})}),Object(d.jsx)("div",{className:w.classifyContainer,children:Object(d.jsxs)(R.a,{container:!0,justify:"center",className:w.fullHeight,children:[Object(d.jsx)(R.a,{item:!0,xs:2,className:w.fullHeight,children:Object(d.jsx)(Je,{mode:t,time:n.config.timeLimit,stopTimer:f,onTimeUp:function(){N(!1)}})}),Object(d.jsx)(R.a,{item:!0,xs:8,className:w.fullHeight,children:Object(d.jsx)(jt.a,{backend:dt.a,children:Object(d.jsxs)(R.a,{container:!0,spacing:2,className:w.fullHeight,children:[Object(d.jsx)(R.a,{item:!0,xs:12,className:w.optionsContainer,children:Object(d.jsx)(R.a,{container:!0,spacing:2,justify:"space-around",alignItems:"center",children:n.groups.map((function(e){return e.items.map((function(e,t){return c=e,!o.reduce((function(e,t){return e||t.items.indexOf(c)>=0}),!1)&&Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(Ot,{name:e,type:"classifyElement",style:{fontSize:n.config.itemsFontSize}},"dragable_".concat(t))},"gridItem_".concat(t));var c}))}))})}),Object(d.jsx)(R.a,{item:!0,xs:12,className:w.groupsContainer,children:Object(d.jsx)(R.a,{container:!0,justify:"space-evenly",spacing:2,style:{height:"100%"},children:n.groups.map((function(e,a){var i;return Object(d.jsx)(R.a,{item:!0,xs:4,children:Object(d.jsx)(pt,{mode:t,title:e.name,validItems:e.items,showResults:x,fontSize:n.config.itemsFontSize,onTitleChange:function(e){return function(e,t){var a=n.groups.map((function(n,c){return Object(F.a)(Object(F.a)({},n),{},{name:c!==e?n.name:t})}));c&&c(Object(F.a)(Object(F.a)({},n),{},{groups:a}))}(a,e)},onItemsChange:function(e){return function(e,t){var a=n.groups.map((function(n,c){return c!==e?Object(F.a)({},n):Object(F.a)(Object(F.a)({},n),{},{items:Object(z.a)(t)})}));c&&c(Object(F.a)(Object(F.a)({},n),{},{groups:a}))}(a,e)},acceptTypes:["classifyElement"],droppedItems:null===(i=o.find((function(t){return t.groupName===e.name})))||void 0===i?void 0:i.items,onDrop:function(t){return function(e,t){var n=o.map((function(n){return n.groupName!==e?Object(F.a)(Object(F.a)({},n),{},{items:n.items.filter((function(e){return e!==t.name}))}):n.items.findIndex((function(e){return e===t.name}))>=0?Object(F.a)({},n):Object(F.a)(Object(F.a)({},n),{},{items:[].concat(Object(z.a)(n.items),[t.name])})}));u(n)}(e.name,t)}})},"group_".concat(a))}))})})]})})}),Object(d.jsx)(R.a,{item:!0,xs:2,style:{height:"100%"},className:w.centerAll,children:Object(d.jsxs)(ze.a,{variant:"extended",size:"large",color:"primary",disabled:t===ie.Design||!(n.groups.reduce((function(e,t){return e+t.items.length}),0)===o.reduce((function(e,t){return e+t.items.length}),0)),onClick:function(){!function(){var e=n.groups.reduce((function(e,t){var n=t.items.reduce((function(e,n){var c=o.find((function(e){return e.groupName===t.name}));return null!=c&&e&&c.items.indexOf(n)>=0}),!0);return e&&n}),!0);N(e)}()},children:[Object(d.jsx)(q.a,{children:"check"}),"\xa0Corregir"]})})]})})]})},vt=Object(o.a)({fullWidth:{width:"100%"}}),Ct=function(e){var t=e.config,n=e.onConfigChange,c=Object(i.useState)(t),a=Object(j.a)(c,2),r=a[0],s=a[1],l=Object(i.useRef)({}),o=Object(i.useRef)({}),u=Object(i.useRef)({}),b=Object(i.useRef)({}),h=vt();Object(i.useEffect)((function(){s(t)}),[t]);var f=function(e,t){var c=Object(F.a)(Object(F.a)({},r),{},Object(Qe.a)({},e,t));s(c),n&&n(c)};return Object(d.jsxs)(R.a,{container:!0,direction:"column",spacing:2,children:[Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(I.a,{variant:"h5",children:"Configuraci\xf3n"})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:l,type:"number",label:"L\xedmite de tiempo (segundos)",inputProps:{min:10},value:r.timeLimit,color:"secondary",className:h.fullWidth,onInput:function(){f("timeLimit",parseInt(l.current.value))}})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:o,type:"number",label:"Tama\xf1o de letra del t\xedtulo",inputProps:{min:1},value:r.questionFontSize,color:"secondary",className:h.fullWidth,onInput:function(){f("questionFontSize",parseInt(o.current.value))}})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:u,type:"number",label:"Tama\xf1o de letra de los elementos",inputProps:{min:1},value:r.itemsFontSize,color:"secondary",className:h.fullWidth,onInput:function(){f("itemsFontSize",parseInt(u.current.value))}})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:b,type:"number",label:"N\xfamero de grupos",inputProps:{min:1},value:r.groupCount,color:"secondary",className:h.fullWidth,onInput:function(){f("groupCount",parseInt(b.current.value))}})})]})},yt=Object(o.a)({fullHeight:{height:"100%"}}),St=function(e){var t=e.challenge,n=e.onChallengeChange,c=yt();return Object(d.jsxs)(R.a,{container:!0,className:c.fullHeight,spacing:2,children:[Object(d.jsx)(R.a,{item:!0,xs:10,className:c.fullHeight,children:Object(d.jsx)(gt,{mode:ie.Design,challenge:t,onChallengeChange:function(e){n(e)}})}),Object(d.jsx)(R.a,{item:!0,xs:2,className:c.fullHeight,children:Object(d.jsx)(Ct,{config:t.config,onConfigChange:function(e){var c=function(e){var n=Object(z.a)(t.groups);if(e>n.length){var c=Array.from(Array(e-n.length)).map((function(){return{name:"",items:[]}}));n=[].concat(Object(z.a)(n),Object(z.a)(c))}else e<n.length&&(n=n.slice(0,e));return n}(e.groupCount),a=Object(F.a)(Object(F.a)({},t),{},{groups:c,config:e});n(a)}})})]})},wt=Object(o.a)((function(e){return{root:{height:"100%",backgroundColor:"#f0f0f0"},fullHeight:{height:"100%"},titleContainer:{height:"20%"},pictureContainer:{height:"80%"},centerAll:{display:"flex",justifyContent:"center",alignItems:"center"},optionsContainer:{height:"20%",border:"solid 1px"},item:{padding:"5px 10px",backgroundColor:e.palette.secondary.main,color:e.palette.primary.contrastText,borderRadius:"20px"},groupsContainer:{height:"80%"}}})),Nt=function(e){var t=e.mode,n=e.challenge,c=e.onChallengeChange,a=e.onSuccess,r=e.onError,s=Object(i.useState)(!1),l=Object(j.a)(s,2),o=l[0],u=l[1],b=Object(i.useState)([]),h=Object(j.a)(b,1)[0],f=Object(i.useState)(!1),O=Object(j.a)(f,2),m=(O[0],O[1]),p=Object(Pe.a)(Ke),x=Object(j.a)(p,1)[0],g=Object(Pe.a)(Ye),v=Object(j.a)(g,1)[0],C=wt(),y=function(e){u(!0),m(!0),e?x():v(),setTimeout((function(){e?a&&a():r&&r()}),2e3)};return Object(d.jsxs)(xe.a,{variant:"outlined",className:C.root,children:[Object(d.jsx)("div",{className:C.titleContainer,children:Object(d.jsx)(He,{mode:t,question:n.question,fontSize:n.config.questionFontSize,onChange:function(e){c&&c(Object(F.a)(Object(F.a)({},n),{},{question:e}))}})}),Object(d.jsx)("div",{className:C.pictureContainer,children:Object(d.jsxs)(R.a,{container:!0,justify:"center",className:C.fullHeight,children:[Object(d.jsx)(R.a,{item:!0,xs:2,className:C.fullHeight,children:Object(d.jsx)(Je,{mode:t,time:n.config.timeLimit,stopTimer:o,onTimeUp:function(){y(!1)}})}),Object(d.jsx)(R.a,{item:!0,xs:8,className:C.fullHeight}),Object(d.jsx)(R.a,{item:!0,xs:2,style:{height:"100%"},className:C.centerAll,children:Object(d.jsxs)(ze.a,{variant:"extended",size:"large",color:"primary",disabled:t===ie.Design||0===h.length,onClick:function(){},children:[Object(d.jsx)(q.a,{children:"check"}),"\xa0Corregir"]})})]})})]})},It=Object(o.a)({fullWidth:{width:"100%"}}),kt=function(e){var t=e.config,n=e.onConfigChange,c=Object(i.useState)(t),a=Object(j.a)(c,2),r=a[0],s=a[1],l=Object(i.useRef)({}),o=Object(i.useRef)({}),u=Object(i.useRef)({}),b=Object(i.useRef)({}),h=It();Object(i.useEffect)((function(){s(t)}),[t]);var f=function(e,t){var c=Object(F.a)(Object(F.a)({},r),{},Object(Qe.a)({},e,t));s(c),n&&n(c)};return Object(d.jsxs)(R.a,{container:!0,direction:"column",spacing:2,children:[Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(I.a,{variant:"h5",children:"Configuraci\xf3n"})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:l,type:"number",label:"L\xedmite de tiempo (segundos)",inputProps:{min:10},value:r.timeLimit,color:"secondary",className:h.fullWidth,onInput:function(){f("timeLimit",parseInt(l.current.value))}})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:o,type:"number",label:"Tama\xf1o de letra del t\xedtulo",inputProps:{min:1},value:r.questionFontSize,color:"secondary",className:h.fullWidth,onInput:function(){f("questionFontSize",parseInt(o.current.value))}})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:u,type:"number",label:"Tama\xf1o de letra de los elementos",inputProps:{min:1},value:r.itemsFontSize,color:"secondary",className:h.fullWidth,onInput:function(){f("itemsFontSize",parseInt(u.current.value))}})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(te.a,{inputRef:b,type:"number",label:"N\xfamero de elementos",inputProps:{min:1},value:r.itemCount,color:"secondary",className:h.fullWidth,onInput:function(){f("groupCount",parseInt(b.current.value))}})})]})},Rt=Object(o.a)({fullHeight:{height:"100%"}}),Tt=function(e){var t=e.challenge,n=e.onChallengeChange,c=Rt();return Object(d.jsxs)(R.a,{container:!0,className:c.fullHeight,spacing:2,children:[Object(d.jsx)(R.a,{item:!0,xs:10,className:c.fullHeight,children:Object(d.jsx)(Nt,{mode:ie.Design,challenge:t,onChallengeChange:function(e){n(e)}})}),Object(d.jsx)(R.a,{item:!0,xs:2,className:c.fullHeight,children:Object(d.jsx)(kt,{config:t.config,onConfigChange:function(e){var c=function(e){var n=Object(z.a)(t.items);if(e>n.length){var c=Array.from(Array(e-n.length)).map((function(){return""}));n=[].concat(Object(z.a)(n),Object(z.a)(c))}else e<n.length&&(n=n.slice(0,e));return n}(e.itemCount),a=Object(F.a)(Object(F.a)({},t),{},{items:c,config:e});n(a)}})})]})},Et=Object(o.a)((function(){return{fullHeight:{height:"100%"}}})),Ft=function(e){var t=e.challenge,n=e.onChallengeChange,a=Et();Object(i.useEffect)((function(){console.log("ChallengeDesigner.useEffect"),console.log(t)}),[t]);var r=function(e){n(e)};return Object(d.jsx)(R.a,{container:!0,className:a.fullHeight,children:Object(d.jsxs)(R.a,{item:!0,xs:12,children:[(null===t||void 0===t?void 0:t.type)===c.SelectAnswer&&Object(d.jsx)(at,{challenge:t,onChallengeChange:r}),(null===t||void 0===t?void 0:t.type)===c.TrueOrFalse&&Object(d.jsx)(ut,{challenge:t,onChallengeChange:r}),(null===t||void 0===t?void 0:t.type)===c.Sort&&Object(d.jsx)(Tt,{challenge:t,onChallengeChange:r}),(null===t||void 0===t?void 0:t.type)===c.Classify&&Object(d.jsx)(St,{challenge:t,onChallengeChange:r})]})})},zt=n(228),Pt=n(203),At=Object(o.a)((function(e){return{fullHeight:{height:"100%"},fullWidth:{width:"100%"},listContainer:{paddingRight:"10px",height:"100%",width:"100%",overflow:"hidden"},challengesContainer:{height:"calc(100% - 50px)",width:"100%",overflowY:"auto",overflowX:"hidden",listStyle:"none","&::-webkit-scrollbar":{width:"0.2em"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(255,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(255,0,0,0.00)"},"&::-webkit-scrollbar-thumb":{backgroundColor:p.light,outline:"1px solid slategrey"}},challengeSelector:{flexGrow:1}}})),Ht=function(e){var t=e.projectId,n=e.testId,r=E(),s=r.projects,l=r.setProjects,o=Object(i.useState)({id:Object(ae.a)(),name:"Nuevo cuestionario",description:"",language:Q.Es,challenges:[]}),u=Object(j.a)(o,2),b=u[0],h=u[1],f=Object(i.useState)(!1),O=Object(j.a)(f,2),m=O[0],p=O[1],x=Object(i.useState)(),g=Object(j.a)(x,2),v=g[0],C=g[1],y=Object(i.useState)(null),S=Object(j.a)(y,2),w=S[0],N=S[1],k=Object(i.useState)(),T=Object(j.a)(k,2),P=T[0],A=T[1],H=Object(i.useState)(!1),W=Object(j.a)(H,2),D=W[0],L=W[1],_=At();Object(i.useEffect)((function(){var e=s.find((function(e){return e.id===t}));if(null!=e){var c=e.tests.find((function(e){return e.id===n}));null!=c&&(h(c),c.challenges.length>0&&C(null==v?c.challenges[0]:Object(F.a)({},v)))}}),[s,t,n]);var M=function(e){var i=function(e){var t={id:Object(ae.a)(),type:e,question:"",config:ke(e)};switch(e){case c.SelectAnswer:return Object(F.a)(Object(F.a)({},t),{},{pictures:[{type:a.None,data:""}],answers:[{text:"",valid:!1},{text:"",valid:!1},{text:"",valid:!1},{text:"",valid:!1}]});case c.TrueOrFalse:return Object(F.a)(Object(F.a)({},t),{},{pictures:[{type:a.None,data:""}],answer:!0});case c.Match:case c.FillGaps:return t;case c.Sort:return Object(F.a)(Object(F.a)({},t),{},{items:["","","","",""]});case c.Classify:return Object(F.a)(Object(F.a)({},t),{},{groups:[{name:"",items:[]},{name:"",items:[]},{name:"",items:[]}]});default:return t}}(e),r=s.map((function(e){if(e.id!==t)return Object(F.a)({},e);var c=e.tests.map((function(e){return e.id!==n?Object(F.a)({},e):Object(F.a)(Object(F.a)({},e),{},{challenges:[].concat(Object(z.a)(e.challenges),[i])})}));return Object(F.a)(Object(F.a)({},e),{},{tests:Object(z.a)(c)})}));l(r),C(i),N(null)},U=function(){N(null)};return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(oe,{open:D,text:"\xbfSeguro que deseas eliminar la pregunta?",width:"xs",onConfirm:function(){var e=s.map((function(e){if(e.id!==t)return e;var c=e.tests.map((function(e){if(e.id!==n)return e;var t=e.challenges.filter((function(e){return e.id!==(null===P||void 0===P?void 0:P.id)}));return Object(F.a)(Object(F.a)({},e),{},{challenges:Object(z.a)(t)})}));return Object(F.a)(Object(F.a)({},e),{},{tests:Object(z.a)(c)})}));l(e),L(!1)},onRefuse:function(){L(!1)}}),Object(d.jsxs)(R.a,{container:!0,className:_.fullHeight,spacing:2,children:[Object(d.jsx)(R.a,{item:!0,xs:2,className:_.listContainer,children:Object(d.jsxs)(R.a,{container:!0,direction:"column",className:_.fullHeight,children:[Object(d.jsx)(R.a,{item:!0,className:_.fullWidth,children:Object(d.jsxs)(R.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(I.a,{variant:"h5",children:"Preguntas"})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsxs)(R.a,{container:!0,justify:"flex-end",alignItems:"center",children:[Object(d.jsx)(R.a,{item:!0,children:Object(d.jsxs)(zt.a,{size:"small",value:m,exclusive:!0,onChange:function(e,t){p(t)},children:[Object(d.jsx)(Pt.a,{value:!1,children:Object(d.jsx)(q.a,{children:"crop_din"})}),Object(d.jsx)(Pt.a,{value:!0,children:Object(d.jsx)(q.a,{children:"reorder"})})]})}),Object(d.jsxs)(R.a,{item:!0,children:[Object(d.jsx)(G.a,{onClick:function(e){N(e.currentTarget)},children:Object(d.jsx)(q.a,{color:"primary",children:"add_circle"})}),Object(d.jsxs)(V.a,{id:"new-challenge-menu",anchorEl:w,keepMounted:!0,open:Boolean(w),onClose:U,children:[Object(d.jsxs)(J.a,{onClick:function(){M(c.SelectAnswer)},children:[Object(d.jsx)(pe.a,{children:Ie(c.SelectAnswer,"large")}),Object(d.jsx)(I.a,{variant:"button",children:Ne(c.SelectAnswer)})]}),Object(d.jsxs)(J.a,{onClick:function(){M(c.TrueOrFalse)},children:[Object(d.jsx)(pe.a,{children:Ie(c.TrueOrFalse,"large")}),Object(d.jsx)(I.a,{variant:"button",children:Ne(c.TrueOrFalse)})]}),Object(d.jsxs)(J.a,{disabled:!0,onClick:U,children:[Object(d.jsx)(pe.a,{children:Ie(c.FillGaps,"large")}),Object(d.jsx)(I.a,{variant:"button",children:Ne(c.FillGaps)})]}),Object(d.jsxs)(J.a,{disabled:!0,onClick:U,children:[Object(d.jsx)(pe.a,{children:Ie(c.Match,"large")}),Object(d.jsx)(I.a,{variant:"button",children:Ne(c.Match)})]}),Object(d.jsxs)(J.a,{disabled:!0,onClick:U,children:[Object(d.jsx)(pe.a,{children:Ie(c.Sort,"large")}),Object(d.jsx)(I.a,{variant:"button",children:Ne(c.Sort)})]}),Object(d.jsxs)(J.a,{onClick:function(){M(c.Classify)},children:[Object(d.jsx)(pe.a,{children:Ie(c.Classify,"large")}),Object(d.jsx)(I.a,{variant:"button",children:Ne(c.Classify)})]}),Object(d.jsxs)(J.a,{disabled:!0,onClick:U,children:[Object(d.jsx)(pe.a,{children:Ie(c.FillTable,"large")}),Object(d.jsx)(I.a,{variant:"button",children:Ne(c.FillTable)})]}),Object(d.jsxs)(J.a,{disabled:!0,onClick:U,children:[Object(d.jsx)(pe.a,{children:Ie(c.Crossword,"large")}),Object(d.jsx)(I.a,{variant:"button",children:Ne(c.Crossword)})]})]})]})]})})]})}),Object(d.jsx)(R.a,{item:!0,className:_.challengesContainer,children:Object(d.jsx)(Fe,{challenges:b.challenges,compactList:m,selected:v,onSelect:function(e){C(e)},onDelete:function(e){A(e),L(!0)}})})]})}),Object(d.jsx)(R.a,{item:!0,xs:10,children:v&&Object(d.jsx)(Ft,{challenge:v,onChallengeChange:function(e){console.log("handleChallengeChange"),console.log(Object(F.a)({},e));var c=s.map((function(c){if(c.id!==t)return c;var a=c.tests.map((function(t){if(t.id!==n)return Object(F.a)({},t);var c=t.challenges.map((function(t){return t.id!==e.id?Object(F.a)({},t):Object(F.a)({},e)}));return Object(F.a)(Object(F.a)({},t),{},{challenges:Object(z.a)(c)})}));return Object(F.a)(Object(F.a)({},c),{},{tests:Object(z.a)(a)})}));l(c),C(Object(F.a)({},e))}})})]})]})},Wt=Object(o.a)((function(e){return{fullHeight:{height:"100%"}}})),Dt=function(){var e=Object(O.g)(),t=e.projectId,n=e.testId,c=Wt();return Object(d.jsx)(R.a,{container:!0,justify:"center",className:c.fullHeight,children:Object(d.jsx)(R.a,{item:!0,xs:12,className:c.fullHeight,children:Object(d.jsx)(Ht,{projectId:t,testId:n})})})},qt=Object(o.a)((function(e){return{fullHeight:{height:"100%"}}})),Lt=function(e){var t=e.challenge,n=e.onSuccess,a=e.onError,i=qt(),r=function(){n&&n()},s=function(){a&&a()};return Object(d.jsx)(R.a,{container:!0,className:i.fullHeight,children:Object(d.jsxs)(R.a,{item:!0,xs:12,children:[(null===t||void 0===t?void 0:t.type)===c.SelectAnswer&&Object(d.jsx)(Xe,{mode:ie.Play,challenge:t,onSuccess:r,onError:s}),(null===t||void 0===t?void 0:t.type)===c.TrueOrFalse&&Object(d.jsx)(rt,{mode:ie.Play,challenge:t,onSuccess:r,onError:s}),(null===t||void 0===t?void 0:t.type)===c.Classify&&Object(d.jsx)(gt,{mode:ie.Play,challenge:t,onSuccess:r,onError:s})]})})},_t=Object(o.a)((function(e){return{root:{width:"100%",height:"100%",border:"solid 1px",backgroundColor:"#81d4fa",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"32px"}}})),Mt=function(e){var t=e.challengeType,n=e.delay,c=e.onEnd,a=_t();return Object(i.useEffect)((function(){setTimeout((function(){c()}),1e3*n)}),[]),Object(d.jsx)("div",{className:a.root,children:Ne(t)})},Ut=n(205),Gt=n(206),Bt=n(207),Vt=n(208),Jt=n(209),Kt=Object(o.a)((function(e){return{root:{height:"100%",border:"solid 1px"},timeline:{transform:"rotate(-90deg)"},timelineContentContainer:{textAlign:"left",padding:"0px"},timelineContent:{transform:"rotate(90deg)",padding:"0px 5px"},timelineIcon:{transform:"rotate(90deg)"}}})),Yt=function(e){var t=e.test,n=e.results,c=Kt();return Object(d.jsxs)(R.a,{container:!0,direction:"column",className:c.root,justify:"center",alignItems:"center",spacing:4,children:[Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(I.a,{variant:"h2",children:t.name})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(I.a,{variant:"h3",children:t.description})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(I.a,{variant:"h4",children:"Aciertos: ".concat(n.filter((function(e){return e})).length,"/").concat(n.length)})}),Object(d.jsx)(R.a,{item:!0,children:Object(d.jsx)(Ut.a,{className:c.timeline,children:t.challenges.map((function(e,a){return Object(d.jsxs)(Gt.a,{children:[Object(d.jsxs)(Bt.a,{children:[Ie(e.type,"large",{transform:"rotate(90deg)"}),a<t.challenges.length-1&&Object(d.jsx)(Vt.a,{})]}),Object(d.jsx)(Jt.a,{className:c.timelineContentContainer,children:Object(d.jsx)(q.a,{className:c.timelineContent,fontSize:"large",color:n[a]?"primary":"error",children:n[a]?"check_circle":"cancel"})})]})}))})})]})},$t=Object(o.a)((function(e){return{fullHeight:{height:"100%"}}})),Xt=function(){var e=Object(O.g)(),t=e.projectId,n=e.testId,c=E().projects,a=Object(i.useState)(),r=Object(j.a)(a,2),s=r[0],l=r[1],o=Object(i.useState)({idx:-1,launching:!1}),u=Object(j.a)(o,2),b=u[0],h=u[1],f=Object(i.useState)([]),m=Object(j.a)(f,2),p=m[0],x=m[1],g=Object(i.useState)(!1),v=Object(j.a)(g,2),C=v[0],y=v[1],S=$t();Object(i.useEffect)((function(){if(null!=t&&null!=n){var e=c.find((function(e){return e.id===t}));if(null!=e){var a=e.tests.find((function(e){return e.id===n}));null!=a&&(l(a),h({idx:0,launching:!0}))}}}),[t,n]);var w=function(){null!=s&&(b.launching?h(Object(F.a)(Object(F.a)({},b),{},{launching:!1})):b.idx<s.challenges.length-1?h({idx:b.idx+1,launching:!0}):(h({idx:-1,launching:!1}),y(!0)))},N=function(e){x([].concat(Object(z.a)(p),[e])),w()};return Object(d.jsxs)(R.a,{container:!0,justify:"center",className:S.fullHeight,children:[Object(d.jsx)(R.a,{item:!0,xs:2}),Object(d.jsxs)(R.a,{item:!0,xs:8,className:S.fullHeight,children:[null!=s&&b.launching&&b.idx>=0&&Object(d.jsx)(Mt,{challengeType:s.challenges[b.idx].type,delay:3,onEnd:w}),null!=s&&!b.launching&&b.idx>=0&&Object(d.jsx)(Lt,{challenge:s.challenges[b.idx],onSuccess:function(){N(!0)},onError:function(){N(!1)}}),null!=s&&C&&Object(d.jsx)(Yt,{test:s,results:p})]}),Object(d.jsx)(R.a,{item:!0,xs:2})]})},Qt=Object(o.a)((function(e){return{mainContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},headerContainer:{width:"100%",height:"75px"},content:{margin:"30px",height:"calc(100% - 135px)"}}}));function Zt(){var e=Qt();return Object(d.jsx)(f.a,{children:Object(d.jsx)(u.a,{theme:S,children:Object(d.jsx)(h,{children:Object(d.jsxs)("div",{className:e.mainContainer,children:[Object(d.jsx)("div",{className:e.headerContainer,children:Object(d.jsx)(k,{})}),Object(d.jsx)("div",{className:e.content,children:Object(d.jsxs)(O.c,{children:[Object(d.jsx)(O.a,{exact:!0,path:"/",children:Object(d.jsx)(me,{})}),Object(d.jsx)(O.a,{path:"/designer/:projectId/:testId",children:Object(d.jsx)(Dt,{})}),Object(d.jsx)(O.a,{path:"/play/:projectId/:testId",children:Object(d.jsx)(Xt,{})})]})})]})})})})}var en=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,229)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};l.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(Zt,{})}),document.getElementById("root")),en()}},[[133,1,2]]]);
//# sourceMappingURL=main.a2a12a60.chunk.js.map